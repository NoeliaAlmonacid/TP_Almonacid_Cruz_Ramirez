<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Nuevo Proyecto</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="../../img/favicon.ico">
        <link rel="stylesheet" href="../../estilos/base.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

        <script>
            function validaciones(evt){
                let fechaInput = document.getElementById("fecha_act");
                let fechaSeleccionada = fechaInput.value;
                let fechaActual = new Date();
                //convierte fecha actual a formato ISO y extrae los caracteres de año-mes-día
                let fechaISO = fechaActual.toISOString().slice(0,10);

                if(fechaSeleccionada > fechaISO){
                    alert(`La fecha seleccioanda para el proyecto no puede ser superior a la fecha actual \n\n Fecha actual: ${fechaISO}`);
                    //detiene el evento, en este caso el click
                    evt.preventDefault();
                }
                            
            }     
        </script>
    </head>
    <body>
        <div class="container .titulo-formulario">
            <h1 class="textoPrincipal pt-3">Alta del Proyecto</h1>
        </div>
        <div class="container border border-dark p-3" id="formularioProyecto">
            <form action="#" method="post">
                <div class="container border border-dark p-3">
                    <div class="row">
                        <label for="fecha_act">Fecha</label>
                        <input type="date" name="fecha_act" id="fecha_act">
                        <label for="tituloProyecto">Título</label>
                        <input name="tituloProyecto" type="text" id="tituloProyecto" required>
                        <label for="descripcionProyecto">Descripción</label>
                        <input name="descripcionProyecto" type="text" id="descripcionProyecto">
                        <label for="archivoProyecto">Archivo del Proyecto</label>
                        <input name="archivoProyecto" type="file" id="archivoProyecto" required>
                        <label for="certificadoAnalitico">Certificado analítico</label>
                        <input name="certificadoAnalitico" type="file" id="certificadoAnalitico">                    
                        <label for="notaDirector">Nota al Director</label>
                        <input name="notaDirector" type="file" id="notaDirector">
                        <label for="cvDirector">CV del Director</label>
                        <input type="file" id="cvDirector">
                    </div>
                </div>
                
                <div class="container border border-dark p-3">
                    <h4>Datos del alumno:</h4>
                    <div class="row">
                        <label for="apellidoAlumno">Apellido/s:</label>
                        <input type="text" id="apellidoAlumno">
                        <label for="nombreAlumno">Nombre/s:</label>
                        <input type="text" id="nombreAlumno">
                        <label for="dniAlumno">DNI:</label>
                        <input type="text" id="dniAlumno">
                        <label for="matriculaAlumno">Matricula:</label>
                        <input type="text" id="matriculaAlumno">
                    </div>
                </div>
                <br>
               <div class="botones-form">
                   <button type="submit" class="btn btn-primary" onclick="validaciones(event);">Guardar</button>
                    <a class="btn btn-danger" href="./proyectos.html">Cancelar</a>
               </div>
            </form> 
        </div>
        <footer>
            <p>Creado por alumnos de la <span class="resaltarBlanco">Universidad Nacional de Catamarca</span></p>
            <p>Contacto:</p>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    </body>
</html>