<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Nuevo Proyecto Prueba</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="../../img/favicon.ico">
        <link rel="stylesheet" href="../../estilos/base.css">
        <link rel="stylesheet" href="../../estilos/proyecto.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

        <script>
            document.addEventListener('DOMContentLoaded', function(){
                document.querySelector('#formulario').onsubmit = function() { 
                    let fechaInput = document.getElementById("fecha_alta");
                    let fechaSeleccionada = fechaInput.value;
                    let fechaActual = new Date();
                    //convierte fecha actual a formato ISO y extrae los caracteres de año-mes-día
                    let fechaISO = fechaActual.toISOString().slice(0,10);

                    if(fechaSeleccionada > fechaISO){
                        alert(`La fecha seleccionada para el proyecto no puede ser superior a la fecha actual \n\n Fecha actual: ${fechaISO}`);
                        return false;
                    }
                    return true;
                }
            });  
        </script>

        <script src="../../scripts/proyectosJS.js"></script>

    </head>
    <body>
        <div class="container .titulo-formulario">
            <h1 class="textoPrincipal pt-3">Alta del Proyecto</h1>
        </div>
        <div class="container-fluid border border-dark p-3" id="formularioPF">
            <div class="row">
                <div class="col-6" id="columnaForm">
                    <form action="#" method="post" id="formulario" enctype="multipart/form-data">
                        
                        <div class="container border border-dark p-3">
                            <h3>Datos del Proyecto</h3>

                            <label for="fecha_alta" class="mt-2 mb-2 form-control-label">Fecha</label>
                            <input type="date" class="form-control" name="fecha_alta" id="fecha_alta" required>

                            <label for="tituloProyecto" class="mt-1 mb-2">Título</label>
                            <input name="tituloProyecto" class="form-control" type="text" id="tituloProyecto" placeholder="Ingrese título" required>
                            
                            <label for="descripcionProyecto" class="mt-1 mb-1">Descripción:</label>
                            <textarea name="descripcionProyecto" class="form-control" rows="3" type="text" id="descripcionProyecto" value="">
                            </textarea>
                            
                            <br>

                            <label for="archivoProyecto" class="mt-1 mb-2">Archivo del Proyecto</label>
                            <input name="archivoProyecto" type="file" id="archivoProyecto" class="form-control" required>

                            <label for="certificadoAnalitico" class="mt-1 mb-2">Certificado analítico</label>
                            <input name="certificadoAnalitico" type="file" id="certificadoAnalitico" class="form-control">

                            <label for="notaDirector" class="mt-1 mb-2">Nota al Director</label>
                            <input type="file" id="notaDirector" class="form-control">

                            <label for="cvDirector" class="mt-1 mb-2">CV del Director</label>
                            <input type="file" id="cvDirector" class="form-control">
                        </div>      
                
                       <!--- <br>
                        <div class="botones-form">
                            <button type="submit" class="btn btn-primary">Guardar</button>
                            <a class="btn btn-danger" href="./proyectos.html">Cancelar</a>
                        </div> -->
                    </form>
                </div>
            
            
                <div class="col-6" id="columnaFormEstudiante">
                    
                    <div class="container border border-dark p-3">
                        <h3>Datos del alumno:</h3>
                        <div class="row p-3">
                            <label for="apellidoAlumno">Apellido/s:</label>
                            <input type="text" id="apellidoAlumno" class="form-control">
                            <label for="nombreAlumno">Nombre/s:</label>
                            <input type="text" id="nombreAlumno" class="form-control">
                            <label for="dniAlumno">DNI:</label>
                            <input type="number" id="dniAlumno" class="form-control">
                            <label for="matriculaAlumno">Matricula:</label>
                            <input type="text" id="matriculaAlumno" class="form-control">
                            <button onclick="agregarEstudiante()" class="btn btn-success mt-3" style="width: 25%; margin: auto;">Agregar</button>
                        </div>
                    </div>

                    <div class="container border border-dark p-3 mt-2">
                        <h3>Alumnos participantes del proyecto</h3>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th style="background-color: coral">DNI</th>
                                    <th>APELLIDO</th>
                                    <th style="background-color: coral;">NOMBRE</th>
                                    <th>MATRÍCULA</th>
                                </tr>
                            </thead>
                            <tbody id="tablaAlumnos">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="botones-form">
                <button type="submit" class="btn btn-primary" form="formulario">Guardar</button>
                <a class="btn btn-danger" href="./proyectos.html">Cancelar</a>
            </div>
        </div>
        <footer>
            <p>Creado por alumnos de la <span class="resaltarBlanco">Universidad Nacional de Catamarca</span></p>
            <p>Contacto:</p>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    </body>
</html>